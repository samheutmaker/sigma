<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Figma Clone - Vector Graphics Editor</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Top Toolbar -->
        <header id="toolbar">
            <div class="toolbar-section logo">
                <span class="logo-icon">◆</span>
                <span>Figma Clone</span>
            </div>
            <div class="toolbar-section tools">
                <button class="tool-btn" data-tool="select" title="Select (V)">
                    <svg viewBox="0 0 24 24"><path d="M4 4l7 17 2-7 7-2L4 4z"/></svg>
                </button>
                <button class="tool-btn" data-tool="frame" title="Frame (F)">
                    <svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                </button>
                <button class="tool-btn" data-tool="rectangle" title="Rectangle (R)">
                    <svg viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="2"/></svg>
                </button>
                <button class="tool-btn" data-tool="ellipse" title="Ellipse (O)">
                    <svg viewBox="0 0 24 24"><ellipse cx="12" cy="12" rx="9" ry="9"/></svg>
                </button>
                <button class="tool-btn" data-tool="line" title="Line (L)">
                    <svg viewBox="0 0 24 24"><line x1="4" y1="20" x2="20" y2="4" stroke="currentColor" stroke-width="2"/></svg>
                </button>
                <button class="tool-btn" data-tool="pen" title="Pen (P)">
                    <svg viewBox="0 0 24 24"><path d="M12 2l-2 8-8 2 8 2 2 8 2-8 8-2-8-2-2-8z"/></svg>
                </button>
                <button class="tool-btn" data-tool="text" title="Text (T)">
                    <svg viewBox="0 0 24 24"><text x="6" y="18" font-size="16" font-weight="bold">T</text></svg>
                </button>
                <button class="tool-btn" data-tool="hand" title="Hand (H)">
                    <svg viewBox="0 0 24 24"><path d="M6.5 6.5a2 2 0 114 0v5a2 2 0 114 0v-3a2 2 0 114 0v8a6 6 0 01-12 0v-10z"/></svg>
                </button>
            </div>
            <div class="toolbar-section zoom">
                <button id="zoom-out" title="Zoom Out">−</button>
                <span id="zoom-level">100%</span>
                <button id="zoom-in" title="Zoom In">+</button>
                <button id="zoom-fit" title="Fit to Screen">⊡</button>
            </div>
            <div class="toolbar-section align-tools">
                <button class="tool-btn" id="align-left" title="Align Left">
                    <svg viewBox="0 0 24 24"><path d="M4 4v16h2V4H4zm4 2v4h12V6H8zm0 8v4h8v-4H8z" fill="currentColor"/></svg>
                </button>
                <button class="tool-btn" id="align-center-h" title="Align Center Horizontally">
                    <svg viewBox="0 0 24 24"><path d="M11 4v4H4v4h7v8h2v-8h7v-4h-7V4h-2z" fill="currentColor"/></svg>
                </button>
                <button class="tool-btn" id="align-right" title="Align Right">
                    <svg viewBox="0 0 24 24"><path d="M18 4v16h2V4h-2zM4 6v4h12V6H4zm4 8v4h8v-4H8z" fill="currentColor"/></svg>
                </button>
                <button class="tool-btn" id="align-top" title="Align Top">
                    <svg viewBox="0 0 24 24"><path d="M4 4h16v2H4V4zm2 4h4v12H6V8zm8 0h4v8h-4V8z" fill="currentColor"/></svg>
                </button>
                <button class="tool-btn" id="align-center-v" title="Align Center Vertically">
                    <svg viewBox="0 0 24 24"><path d="M4 11h4V4h4v7h8v2h-8v7H8v-7H4v-2z" fill="currentColor"/></svg>
                </button>
                <button class="tool-btn" id="align-bottom" title="Align Bottom">
                    <svg viewBox="0 0 24 24"><path d="M4 18h16v2H4v-2zM6 4h4v12H6V4zm8 4h4v8h-4V8z" fill="currentColor"/></svg>
                </button>
            </div>
            <div class="toolbar-section actions">
                <button id="undo-btn" title="Undo (Cmd+Z)">↶</button>
                <button id="redo-btn" title="Redo (Cmd+Shift+Z)">↷</button>
                <button id="export-btn" title="Export">Export</button>
            </div>
        </header>

        <!-- Main Content Area -->
        <div id="main-content">
            <!-- Left Panel - Layers -->
            <aside id="layers-panel">
                <div class="panel-header">
                    <span>Layers</span>
                    <button id="add-frame-btn" title="Add Frame">+</button>
                </div>
                <div id="layers-list"></div>
            </aside>

            <!-- Canvas Area -->
            <main id="canvas-container">
                <canvas id="main-canvas"></canvas>
                <canvas id="overlay-canvas"></canvas>
            </main>

            <!-- Right Panel - Properties -->
            <aside id="properties-panel">
                <div class="panel-header">
                    <span>Properties</span>
                </div>
                <div id="properties-content">
                    <div class="property-section" id="transform-section">
                        <h4>Transform</h4>
                        <div class="property-row">
                            <label>X</label>
                            <input type="number" id="prop-x" step="1">
                            <label>Y</label>
                            <input type="number" id="prop-y" step="1">
                        </div>
                        <div class="property-row">
                            <label>W</label>
                            <input type="number" id="prop-width" step="1" min="1">
                            <label>H</label>
                            <input type="number" id="prop-height" step="1" min="1">
                        </div>
                        <div class="property-row">
                            <label>Rotation</label>
                            <input type="number" id="prop-rotation" step="1">
                            <span>°</span>
                        </div>
                    </div>
                    <div class="property-section" id="fill-section">
                        <h4>Fill</h4>
                        <div class="property-row">
                            <input type="color" id="prop-fill" value="#5B5BFF">
                            <input type="text" id="prop-fill-hex" value="#5B5BFF">
                            <input type="number" id="prop-fill-opacity" min="0" max="100" value="100" step="1">
                            <span>%</span>
                        </div>
                    </div>
                    <div class="property-section" id="stroke-section">
                        <h4>Stroke</h4>
                        <div class="property-row">
                            <input type="color" id="prop-stroke" value="#000000">
                            <input type="text" id="prop-stroke-hex" value="#000000">
                            <input type="number" id="prop-stroke-width" min="0" value="0" step="1">
                            <span>px</span>
                        </div>
                    </div>
                    <div class="property-section" id="corner-section">
                        <h4>Corner Radius</h4>
                        <div class="property-row">
                            <input type="number" id="prop-corner-radius" min="0" value="0" step="1">
                            <span>px</span>
                        </div>
                    </div>
                    <div class="property-section" id="text-section" style="display: none;">
                        <h4>Text</h4>
                        <div class="property-row">
                            <select id="prop-font-family">
                                <option value="Inter">Inter</option>
                                <option value="Arial">Arial</option>
                                <option value="Helvetica">Helvetica</option>
                                <option value="Georgia">Georgia</option>
                                <option value="monospace">Monospace</option>
                            </select>
                        </div>
                        <div class="property-row">
                            <input type="number" id="prop-font-size" min="1" value="16" step="1">
                            <span>px</span>
                            <select id="prop-font-weight">
                                <option value="400">Regular</option>
                                <option value="500">Medium</option>
                                <option value="600">Semibold</option>
                                <option value="700">Bold</option>
                            </select>
                        </div>
                    </div>
                    <div class="property-section" id="effects-section">
                        <h4>Effects</h4>
                        <div class="property-row">
                            <label>Shadow</label>
                            <button id="add-shadow-btn" class="small-btn">+</button>
                        </div>
                        <div id="shadow-list"></div>
                        <div class="property-row">
                            <label>Blur</label>
                            <input type="number" id="prop-blur" min="0" value="0" step="1">
                            <span>px</span>
                        </div>
                    </div>
                    <div class="property-section" id="gradient-section">
                        <h4>Gradient</h4>
                        <div class="property-row">
                            <select id="prop-gradient-type">
                                <option value="none">None</option>
                                <option value="linear">Linear</option>
                                <option value="radial">Radial</option>
                            </select>
                        </div>
                        <div id="gradient-controls" style="display: none;">
                            <div class="property-row">
                                <label>Angle</label>
                                <input type="number" id="prop-gradient-angle" min="0" max="360" value="0" step="1">
                                <span>°</span>
                            </div>
                            <div class="property-row">
                                <label>Start</label>
                                <input type="color" id="prop-gradient-start" value="#5B5BFF">
                            </div>
                            <div class="property-row">
                                <label>End</label>
                                <input type="color" id="prop-gradient-end" value="#FF5B5B">
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Export Modal -->
        <div id="export-modal" class="modal hidden">
            <div class="modal-content">
                <h3>Export</h3>
                <div class="export-options">
                    <label>Format:</label>
                    <select id="export-format">
                        <option value="png">PNG</option>
                        <option value="svg">SVG</option>
                        <option value="json">JSON (Project)</option>
                    </select>
                    <label>Scale:</label>
                    <select id="export-scale">
                        <option value="1">1x</option>
                        <option value="2">2x</option>
                        <option value="3">3x</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button id="export-cancel">Cancel</button>
                    <button id="export-confirm">Export</button>
                </div>
            </div>
        </div>

        <!-- Context Menu -->
        <div id="context-menu" class="hidden">
            <button data-action="duplicate">Duplicate</button>
            <button data-action="delete">Delete</button>
            <button data-action="bring-front">Bring to Front</button>
            <button data-action="send-back">Send to Back</button>
            <div class="context-divider"></div>
            <button data-action="group">Group</button>
            <button data-action="ungroup">Ungroup</button>
            <div class="context-divider"></div>
            <button data-action="create-component">Create Component</button>
            <button data-action="create-instance">Create Instance</button>
            <button data-action="detach-instance">Detach Instance</button>
            <div class="context-divider"></div>
            <button data-action="boolean-union">Union</button>
            <button data-action="boolean-subtract">Subtract</button>
            <button data-action="boolean-intersect">Intersect</button>
            <button data-action="boolean-exclude">Exclude</button>
        </div>
    </div>

    <!-- Load dependencies in order -->
    <script src="js/utils.js"></script>
    <script src="js/color.js"></script>
    <script src="js/objects.js"></script>
    <script src="js/history.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/webgl-renderer.js"></script>
    <script src="js/boolean.js"></script>
    <script src="js/autolayout.js"></script>
    <script src="js/guides.js"></script>
    <script src="js/tools.js"></script>
    <script src="js/panels.js"></script>
    <script src="js/export.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
